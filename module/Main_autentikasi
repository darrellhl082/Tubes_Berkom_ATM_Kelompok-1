# Program: Otentikasi identitas
# Spesifikasi: Mencari Username dan Password yang sesuai


# KAMUS
# Username: int; username pengguna
# Password: int; password pengguna
# i, : int
# found : bool; menentukan Username + Password sdh ditemukan/belum

# ALGORITMA
# Asumsi: input array sudah dibuat; N terdefinisi

data_nasabah = [
    {
        "nomor_rekening" : "16524041",
        "password" : "16524041",
        "nama": "Rizal Udin",
        "saldo": 100000
    },
    {
        "nomor_rekening": "16524043",
        "password" : "16524043",
        "nama": "Gibran",
        "saldo": 200000
    },
    {
        "nomor_rekening" : "16524044",
        "password" : "16524044",
        "nama" : "Fufufafa",
        "saldo" : 300000
    }
]



def Otentikasi(Username, Password):
    found = False  # found = False; X belum ditemukan
    i = 0
    while i < len(data_nasabah) and not found: #Akan berulang hingga semua dictionary nasabah diperiksa
        if data_nasabah[i]["nomor_rekening"] == Username and data_nasabah[i]["password"] == Password:
            found = True  # found = True; Username dan password benar
        else:
            i += 1  # hanya increment jika username atau password salah
    return found

def Salah_Otentikasi(): #Program loop ke fungsi ini jika input salah
    print("Username atau Password salah")
    print("Login ke akun masing-masing dengan menginput username dan password")
    Username = str(input("Username: "))
    Password = str(input("Password: "))
    return [Username, Password]


def Main_Otentikasi():
    #Mengambil data dari luar fungsi
    global data_nasabah

    #Input inisial, Nomor Rekening dan Password
    print("Login ke akun masing-masing dengan menginput username dan password") 
    Username = str(input("Username: "))
    Password = str(input("Password: "))
    data_nasabah_online = {} #Informasi nasabah kosong

    while not Otentikasi(Username, Password): # Ketika found =false, loop balik ke autentikasi
        Username, Password = Salah_Otentikasi()

    for item in data_nasabah: #Menginput data nasabah ke sesi utama
        if Username == item["nomor_rekening"]:
            data_nasabah_online = item

    return data_nasabah_online #Jika autentikasi benar, memberikan informasi tentang nasabah yang sedang melakukan transaksi


# Main program
nasabah=Main_Otentikasi()
print("Username dan Password benar")
print(nasabah) 